# My Neovim Configuration

This repo contains my Neovim config files as well as instructions on how to install the editor and the dependencies for this configuration.

## 1 Install Neovim

> **Note:** In this guide we are going to install Neovim from source. If you are looking for an easier way to install the editor, [this guide](https://github.com/neovim/neovim/wiki/Installing-Neovim) provides instructions on how to get Neovim from pre-built archives and package repositories.

### 1.1 Install Dependencies

```sh
sudo apt install ninja-build gettext libtool libtool-bin autoconf automake cmake g++ pkg-config unzip curl doxygen
```

### 1.2 Build & Install Neovim

```sh
git clone https://github.com/neovim/neovim
cd neovim
git checkout stable
make CMAKE_BUILD_TYPE=Release
sudo make install
```

### 1.3 Checkhealth

Neovim ships with healthchecks to help us troubleshoot the editor configuration.

After intalling Neovim, it is a good idea to check its health. A healthcheck can tell you if there are misconfigurations, performance issues or missing dependencies.

Open the editor (`nvim` command) and run `:checkhealth`.

## 2 Install Providers

In the output generated by `:checkhealth` you may find some WARNING messages about missing (**optional**) providers. Providers are processes that communicate with Neovim and add extra features to the editor. 

Let's intall some of them!

### 2.1 Clipboard Tool

If our system doesn't have a clipboard tool installed, then Neovim will not be able to communicate with clipboard backends (including the system clipboard).

We will probably want to copy data from clipboard to Neovim and vice-versa, so let's install a clipboard tool.

```sh
sudo apt install xsel
```

### 2.2 Remote Plugins

One way of extending Neovim is by using [remote plugins](https://neovim.io/doc/user/remote_plugin.html), which are plugins that run in separate processes. Those plugins can be written in any programming language as long as there is a plugin host available for the chosen language.

I want my Neovim setup to support remote plugins written in Python and Javascript, so I'll install the providers for those two languages. `:checkhealth` has information on how to add support for other languages.

#### 2.2.1 Python Provider

To use Python remote plugins, we need to install the `pynvim` module.

```sh
python3 -m pip install --user --upgrade pynvim
```

#### 2.2.2 Node.js Provider

To use Javascript remote plugins, we need to install the `neovim` npm package.

```sh
# install node.js
curl -fsSL https://deb.nodesource.com/setup_lts.x | sudo -E bash -
sudo apt install -y nodejs

# change npm's default directory (this is to avoid permission errors)
mkdir ~/.npm-global
npm config set prefix '~/.npm-global'
echo -e '\nexport PATH="$HOME/.npm-global/bin:$PATH"' >> ~/.profile
source ~/.profile 

# install the provider
npm install -g neovim
```

---
## References

- [Neovim Wiki - Building Neovim](https://github.com/neovim/neovim/wiki/Building-Neovim)
- [Neovim Wiki - Installing Neovim](https://github.com/neovim/neovim/wiki/Installing-Neovim)
- [:h pi_health](https://neovim.io/doc/user/pi_health.html)
- [:h provider](https://neovim.io/doc/user/provider.html)
- [:h remote-plugin](https://neovim.io/doc/user/remote_plugin.html)
- [npm Docs - Resolving EACCES permissions errors...](https://docs.npmjs.com/resolving-eacces-permissions-errors-when-installing-packages-globally)
